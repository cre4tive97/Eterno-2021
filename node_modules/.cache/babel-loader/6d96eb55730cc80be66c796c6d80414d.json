{"remainingRequest":"/Users/harry/Desktop/harry/projects/portfolio-2021/node_modules/babel-loader/lib/index.js!/Users/harry/Desktop/harry/projects/portfolio-2021/node_modules/eslint-loader/index.js??ref--13-0!/Users/harry/Desktop/harry/projects/portfolio-2021/src/store.js","dependencies":[{"path":"/Users/harry/Desktop/harry/projects/portfolio-2021/src/store.js","mtime":1632853436713},{"path":"/Users/harry/Desktop/harry/projects/portfolio-2021/node_modules/cache-loader/dist/cjs.js","mtime":1631303091952},{"path":"/Users/harry/Desktop/harry/projects/portfolio-2021/node_modules/babel-loader/lib/index.js","mtime":1631303091941},{"path":"/Users/harry/Desktop/harry/projects/portfolio-2021/node_modules/eslint-loader/index.js","mtime":1631303093546}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoewogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHdlYXRoZXJEYXRhOiBbXSwKICAgICAgcmFuZG9tSW5kZXg6IDAsCiAgICAgIHJlY29tbWVuZEFwcDogW10sCiAgICAgIGN1cnJlbnRIb3VyOiAwLAogICAgICBjdXJyZW50UG9zaXRpb246IFtdCiAgICB9OwogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRSYW5kb21JbmRleDogZnVuY3Rpb24gc2V0UmFuZG9tSW5kZXgoc3RhdGUpIHsKICAgICAgdmFyIHJhbmRvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOwogICAgICBzdGF0ZS5yYW5kb21JbmRleCA9IHJhbmRvbU51bTsKICAgIH0sCiAgICBzZXRDdXJyZW50V2VhdGhlcjogZnVuY3Rpb24gc2V0Q3VycmVudFdlYXRoZXIoc3RhdGUsIGRhdGEpIHsKICAgICAgaWYgKHN0YXRlLmN1cnJlbnRIb3VyID49IDAgJiYgc3RhdGUuY3VycmVudEhvdXIgPD0gMykgewogICAgICAgIHN0YXRlLndlYXRoZXJEYXRhID0gZGF0YTsKICAgICAgfQogICAgfSwKICAgIHNldEN1cnJlbnRQb3NpdGlvbjogZnVuY3Rpb24gc2V0Q3VycmVudFBvc2l0aW9uKHN0YXRlKSB7CiAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24gKHBvc2l0aW9uKSB7CiAgICAgICAgc3RhdGUuY3VycmVudFBvc2l0aW9uID0gW3Bvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZV07CiAgICAgICAgY29uc29sZS5sb2coc3RhdGUuY3VycmVudFBvc2l0aW9uKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiQ3VycmVudFBvc2l0aW9uIiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUuY3VycmVudFBvc2l0aW9uKSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgZ2V0Q3VycmVudFdlYXRoZXI6IGZ1bmN0aW9uIGdldEN1cnJlbnRXZWF0aGVyKGNvbnRleHQpIHsKICAgICAgYXhpb3MuZ2V0KCJodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvb25lY2FsbD9sYXQ9Ii5jb25jYXQoY29udGV4dC5zdGF0ZS5jdXJyZW50UG9zaXRpb25bMF0sICImbG9uPSIpLmNvbmNhdChjb250ZXh0LnN0YXRlLmN1cnJlbnRQb3NpdGlvblsxXSwgIiZleGNsdWRlPW1pbnV0ZWx5LGRhaWx5JnVuaXRzPW1ldHJpYyZhcHBpZD1hOTg1ZWUzZjZiZDcyZDk5ZTE2YTZlMGExYzAzNjNjMCIpKS50aGVuKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgY29uc29sZS5sb2coYS5kYXRhKTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0Q3VycmVudFdlYXRoZXIiLCBhLmRhdGEubGlzdCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZyhjb250ZXh0LnN0YXRlLmN1cnJlbnRQb3NpdGlvblswXSk7CiAgICAgIH0pOwogICAgfQogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHN0b3JlOw=="},{"version":3,"sources":["/Users/harry/Desktop/harry/projects/portfolio-2021/src/store.js"],"names":["createStore","axios","store","state","weatherData","randomIndex","recommendApp","currentHour","currentPosition","mutations","setRandomIndex","randomNum","Math","floor","random","setCurrentWeather","data","setCurrentPosition","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","console","log","localStorage","setItem","JSON","stringify","actions","getCurrentWeather","context","get","then","a","commit","list","catch"],"mappings":";AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,KAAK,GAAGF,WAAW,CAAC;AACxBG,EAAAA,KADwB,mBAChB;AACN,WAAO;AACLC,MAAAA,WAAW,EAAE,EADR;AAELC,MAAAA,WAAW,EAAE,CAFR;AAGLC,MAAAA,YAAY,EAAE,EAHT;AAILC,MAAAA,WAAW,EAAE,CAJR;AAKLC,MAAAA,eAAe,EAAE;AALZ,KAAP;AAOD,GATuB;AAUxBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,cADS,0BACMP,KADN,EACa;AACpB,UAAMQ,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,CAA3B,CAAlB;AACAX,MAAAA,KAAK,CAACE,WAAN,GAAoBM,SAApB;AACD,KAJQ;AAKTI,IAAAA,iBALS,6BAKSZ,KALT,EAKgBa,IALhB,EAKsB;AAC7B,UAAIb,KAAK,CAACI,WAAN,IAAqB,CAArB,IAA0BJ,KAAK,CAACI,WAAN,IAAqB,CAAnD,EAAsD;AACpDJ,QAAAA,KAAK,CAACC,WAAN,GAAoBY,IAApB;AACD;AACF,KATQ;AAUTC,IAAAA,kBAVS,8BAUUd,KAVV,EAUiB;AACxBe,MAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,UAACC,QAAD,EAAc;AACrDlB,QAAAA,KAAK,CAACK,eAAN,GAAwB,CACtBa,QAAQ,CAACC,MAAT,CAAgBC,QADM,EAEtBF,QAAQ,CAACC,MAAT,CAAgBE,SAFM,CAAxB;AAIAC,QAAAA,OAAO,CAACC,GAAR,CAAYvB,KAAK,CAACK,eAAlB;AACAmB,QAAAA,YAAY,CAACC,OAAb,CACE,iBADF,EAEEC,IAAI,CAACC,SAAL,CAAe3B,KAAK,CAACK,eAArB,CAFF;AAID,OAVD;AAWD;AAtBQ,GAVa;AAkCxBuB,EAAAA,OAAO,EAAE;AACPC,IAAAA,iBADO,6BACWC,OADX,EACoB;AACzBhC,MAAAA,KAAK,CACFiC,GADH,+DAE2DD,OAAO,CAAC9B,KAAR,CAAcK,eAAd,CAA8B,CAA9B,CAF3D,kBAEmGyB,OAAO,CAAC9B,KAAR,CAAcK,eAAd,CAA8B,CAA9B,CAFnG,kFAIG2B,IAJH,CAIQ,UAACC,CAAD,EAAO;AACXX,QAAAA,OAAO,CAACC,GAAR,CAAYU,CAAC,CAACpB,IAAd;AACAiB,QAAAA,OAAO,CAACI,MAAR,CAAe,mBAAf,EAAoCD,CAAC,CAACpB,IAAF,CAAOsB,IAA3C;AACD,OAPH,EAQGC,KARH,CAQS,YAAM;AACXd,QAAAA,OAAO,CAACC,GAAR,CAAYO,OAAO,CAAC9B,KAAR,CAAcK,eAAd,CAA8B,CAA9B,CAAZ;AACD,OAVH;AAWD;AAbM;AAlCe,CAAD,CAAzB;AAmDA,eAAeN,KAAf","sourcesContent":["import { createStore } from \"vuex\";\nimport axios from \"axios\";\n\nconst store = createStore({\n  state() {\n    return {\n      weatherData: [],\n      randomIndex: 0,\n      recommendApp: [],\n      currentHour: 0,\n      currentPosition: [],\n    };\n  },\n  mutations: {\n    setRandomIndex(state) {\n      const randomNum = Math.floor(Math.random() * 8);\n      state.randomIndex = randomNum;\n    },\n    setCurrentWeather(state, data) {\n      if (state.currentHour >= 0 && state.currentHour <= 3) {\n        state.weatherData = data;\n      }\n    },\n    setCurrentPosition(state) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        state.currentPosition = [\n          position.coords.latitude,\n          position.coords.longitude,\n        ];\n        console.log(state.currentPosition);\n        localStorage.setItem(\n          \"CurrentPosition\",\n          JSON.stringify(state.currentPosition)\n        );\n      });\n    },\n  },\n  actions: {\n    getCurrentWeather(context) {\n      axios\n        .get(\n          `https://api.openweathermap.org/data/2.5/onecall?lat=${context.state.currentPosition[0]}&lon=${context.state.currentPosition[1]}&exclude=minutely,daily&units=metric&appid=a985ee3f6bd72d99e16a6e0a1c0363c0`\n        )\n        .then((a) => {\n          console.log(a.data);\n          context.commit(\"setCurrentWeather\", a.data.list);\n        })\n        .catch(() => {\n          console.log(context.state.currentPosition[0]);\n        });\n    },\n  },\n});\n\nexport default store;\n"]}]}