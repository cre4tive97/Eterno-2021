{"remainingRequest":"/Users/harry/Desktop/harry/projects/portfolio-2021/node_modules/babel-loader/lib/index.js!/Users/harry/Desktop/harry/projects/portfolio-2021/node_modules/eslint-loader/index.js??ref--13-0!/Users/harry/Desktop/harry/projects/portfolio-2021/src/store.js","dependencies":[{"path":"/Users/harry/Desktop/harry/projects/portfolio-2021/src/store.js","mtime":1632915844566},{"path":"/Users/harry/Desktop/harry/projects/portfolio-2021/node_modules/cache-loader/dist/cjs.js","mtime":1631303091952},{"path":"/Users/harry/Desktop/harry/projects/portfolio-2021/node_modules/babel-loader/lib/index.js","mtime":1631303091941},{"path":"/Users/harry/Desktop/harry/projects/portfolio-2021/node_modules/eslint-loader/index.js","mtime":1631303093546}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoewogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHdlYXRoZXJEYXRhOiBbXSwKICAgICAgcmFuZG9tSW5kZXg6IDAsCiAgICAgIHJlY29tbWVuZEFwcDogW10sCiAgICAgIHdlYXRoZXJIb3VyczogWzAsIDUsIDEwLCAxNSwgMjBdLAogICAgICBjdXJyZW50UG9zaXRpb246IFtdCiAgICB9OwogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRSYW5kb21JbmRleDogZnVuY3Rpb24gc2V0UmFuZG9tSW5kZXgoc3RhdGUpIHsKICAgICAgdmFyIHJhbmRvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOwogICAgICBzdGF0ZS5yYW5kb21JbmRleCA9IHJhbmRvbU51bTsKICAgIH0sCiAgICBzZXRXZWF0aGVyRGF0YTogZnVuY3Rpb24gc2V0V2VhdGhlckRhdGEoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUud2VhdGhlckRhdGEucHVzaChkYXRhKTsKICAgIH0sCiAgICBzZXRDdXJyZW50UG9zaXRpb246IGZ1bmN0aW9uIHNldEN1cnJlbnRQb3NpdGlvbihzdGF0ZSkgewogICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uIChwb3NpdGlvbikgewogICAgICAgIHN0YXRlLmN1cnJlbnRQb3NpdGlvbiA9IFtwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGVdOwogICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmN1cnJlbnRQb3NpdGlvbik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIkN1cnJlbnRQb3NpdGlvbiIsIEpTT04uc3RyaW5naWZ5KHN0YXRlLmN1cnJlbnRQb3NpdGlvbikpOwogICAgICB9KTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGdldEN1cnJlbnRXZWF0aGVyOiBmdW5jdGlvbiBnZXRDdXJyZW50V2VhdGhlcihjb250ZXh0KSB7CiAgICAgIGF4aW9zLmdldCgiaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L29uZWNhbGw/bGF0PSIuY29uY2F0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIkN1cnJlbnRQb3NpdGlvbiIpKVswXSwgIiZsb249IikuY29uY2F0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIkN1cnJlbnRQb3NpdGlvbiIpKVsxXSwgIiZleGNsdWRlPW1pbnV0ZWx5LGRhaWx5JnVuaXRzPW1ldHJpYyZhcHBpZD1hOTg1ZWUzZjZiZDcyZDk5ZTE2YTZlMGExYzAzNjNjMCIpKS50aGVuKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgY29uc29sZS5sb2coYS5kYXRhKTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0Q3VycmVudFdlYXRoZXIiLCBhLmRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coY29udGV4dC5zdGF0ZS5jdXJyZW50UG9zaXRpb25bMF0pOwogICAgICB9KTsKICAgIH0KICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["/Users/harry/Desktop/harry/projects/portfolio-2021/src/store.js"],"names":["createStore","axios","store","state","weatherData","randomIndex","recommendApp","weatherHours","currentPosition","mutations","setRandomIndex","randomNum","Math","floor","random","setWeatherData","data","push","setCurrentPosition","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","console","log","localStorage","setItem","JSON","stringify","actions","getCurrentWeather","context","get","parse","getItem","then","a","commit","catch"],"mappings":";AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,KAAK,GAAGF,WAAW,CAAC;AACxBG,EAAAA,KADwB,mBAChB;AACN,WAAO;AACLC,MAAAA,WAAW,EAAE,EADR;AAELC,MAAAA,WAAW,EAAE,CAFR;AAGLC,MAAAA,YAAY,EAAE,EAHT;AAILC,MAAAA,YAAY,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,EAAW,EAAX,EAAe,EAAf,CAJT;AAKLC,MAAAA,eAAe,EAAE;AALZ,KAAP;AAOD,GATuB;AAUxBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,cADS,0BACMP,KADN,EACa;AACpB,UAAMQ,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,CAA3B,CAAlB;AACAX,MAAAA,KAAK,CAACE,WAAN,GAAoBM,SAApB;AACD,KAJQ;AAKTI,IAAAA,cALS,0BAKMZ,KALN,EAKaa,IALb,EAKmB;AAC1Bb,MAAAA,KAAK,CAACC,WAAN,CAAkBa,IAAlB,CAAuBD,IAAvB;AACD,KAPQ;AASTE,IAAAA,kBATS,8BASUf,KATV,EASiB;AACxBgB,MAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,UAACC,QAAD,EAAc;AACrDnB,QAAAA,KAAK,CAACK,eAAN,GAAwB,CACtBc,QAAQ,CAACC,MAAT,CAAgBC,QADM,EAEtBF,QAAQ,CAACC,MAAT,CAAgBE,SAFM,CAAxB;AAIAC,QAAAA,OAAO,CAACC,GAAR,CAAYxB,KAAK,CAACK,eAAlB;AACAoB,QAAAA,YAAY,CAACC,OAAb,CACE,iBADF,EAEEC,IAAI,CAACC,SAAL,CAAe5B,KAAK,CAACK,eAArB,CAFF;AAID,OAVD;AAWD;AArBQ,GAVa;AAiCxBwB,EAAAA,OAAO,EAAE;AACPC,IAAAA,iBADO,6BACWC,OADX,EACoB;AACzBjC,MAAAA,KAAK,CACFkC,GADH,+DAGML,IAAI,CAACM,KAAL,CAAWR,YAAY,CAACS,OAAb,CAAqB,iBAArB,CAAX,EAAoD,CAApD,CAHN,kBAKMP,IAAI,CAACM,KAAL,CAAWR,YAAY,CAACS,OAAb,CAAqB,iBAArB,CAAX,EAAoD,CAApD,CALN,kFAQGC,IARH,CAQQ,UAACC,CAAD,EAAO;AACXb,QAAAA,OAAO,CAACC,GAAR,CAAYY,CAAC,CAACvB,IAAd;AACAkB,QAAAA,OAAO,CAACM,MAAR,CAAe,mBAAf,EAAoCD,CAAC,CAACvB,IAAtC;AACD,OAXH,EAYGyB,KAZH,CAYS,YAAM;AACXf,QAAAA,OAAO,CAACC,GAAR,CAAYO,OAAO,CAAC/B,KAAR,CAAcK,eAAd,CAA8B,CAA9B,CAAZ;AACD,OAdH;AAeD;AAjBM;AAjCe,CAAD,CAAzB;AAsDA,eAAeN,KAAf","sourcesContent":["import { createStore } from \"vuex\";\nimport axios from \"axios\";\n\nconst store = createStore({\n  state() {\n    return {\n      weatherData: [],\n      randomIndex: 0,\n      recommendApp: [],\n      weatherHours: [0, 5, 10, 15, 20],\n      currentPosition: [],\n    };\n  },\n  mutations: {\n    setRandomIndex(state) {\n      const randomNum = Math.floor(Math.random() * 8);\n      state.randomIndex = randomNum;\n    },\n    setWeatherData(state, data) {\n      state.weatherData.push(data);\n    },\n\n    setCurrentPosition(state) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        state.currentPosition = [\n          position.coords.latitude,\n          position.coords.longitude,\n        ];\n        console.log(state.currentPosition);\n        localStorage.setItem(\n          \"CurrentPosition\",\n          JSON.stringify(state.currentPosition)\n        );\n      });\n    },\n  },\n  actions: {\n    getCurrentWeather(context) {\n      axios\n        .get(\n          `https://api.openweathermap.org/data/2.5/onecall?lat=${\n            JSON.parse(localStorage.getItem(\"CurrentPosition\"))[0]\n          }&lon=${\n            JSON.parse(localStorage.getItem(\"CurrentPosition\"))[1]\n          }&exclude=minutely,daily&units=metric&appid=a985ee3f6bd72d99e16a6e0a1c0363c0`\n        )\n        .then((a) => {\n          console.log(a.data);\n          context.commit(\"setCurrentWeather\", a.data);\n        })\n        .catch(() => {\n          console.log(context.state.currentPosition[0]);\n        });\n    },\n  },\n});\n\nexport default store;\n"]}]}